<div>
  <div>
    <form style="margin-bottom: 1%;margin-top: 1%;margin-left: 2%;" nz-form nzLayout="inline" [formGroup]="validateForm" (ngSubmit)="submitForm()">
      <nz-form-item>
        <nz-form-label [nzSpan]="isHorizontal ? 4 : null">用户名称</nz-form-label>
        <nz-form-control [nzSpan]="isHorizontal ? 14 : null">
          <input style="width: 200px;" nz-input formControlName="userName" placeholder="用户名称" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="isHorizontal ? 4 : null">创建时间</nz-form-label>
        <nz-form-control [nzSpan]="isHorizontal ? 14 : null">
          <nz-range-picker formControlName="rangePicker"></nz-range-picker>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item style="margin-left: 2%;">
        <nz-form-control [nzSpan]="isHorizontal ? 14 : null" [nzOffset]="isHorizontal ? 4 : null">
          <button nz-button nzType="primary" >查询</button>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item style="margin-left: 2%;">
        <nz-form-control [nzSpan]="isHorizontal ? 14 : null" [nzOffset]="isHorizontal ? 4 : null">
          <button nz-button nzType="primary" (click)="resetForm($event)" >重置</button>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item style="margin-left: 2%;">
        <nz-form-control [nzSpan]="isHorizontal ? 14 : null" [nzOffset]="isHorizontal ? 4 : null">
          <button nz-button nzType="primary" (click)="adduser()">新增</button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
  
  <div>
    <nz-table id="rowSelectionTabledata" 
  #dynamicTable
  [nzScroll]="{ y: '500px' }"
  [nzData]="listOfData"
  nzTableLayout="fixed"
  [nzBordered]="true"
  nzPaginationPosition="bottom"
  [nzShowSizeChanger]="true"
  [nzFrontPagination]="true"
  [nzShowPagination]="true"
  nzSize="middle"
  (nzCurrentPageDataChange)="currentPageDataChange($event)">
    <thead>
      <tr *ngIf="true">
        <th nzWidth="40px" *ngIf="false" ></th>
        <th>序号</th>
        <th>用户名</th>
        <th>手机号</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let data of dynamicTable.data">
        <tr>
          <td>{{ data.name }}</td>
          <td>{{ data.age }}</td>
          <td [nzEllipsis]="false">{{ data.address }}</td>
          <td [nzEllipsis]="false">
            <a href="#">Delete</a>
            <a href="#">More action</a>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </nz-table>
  </div>
</div>

<!-- 新增用户弹窗 -->
<div>
  <nz-modal
    [(nzVisible)]="isVisible"
    nzTitle="新增用户"
    nzClosable='true'
    nzFooter='ModalButtonOptions'
    nzOkText=""
    nzCancelText=""
    (nzOnOk)="handleOk()"
    (nzOnCancel)="handleCancel()"
    nzWidth="50%"
  >
  
  <form nz-form id='useraddform' [formGroup]="addUservalidateForm" (ngSubmit)="submitFormaddUser(addUservalidateForm.value)">
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Username</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="Validating..." [nzErrorTip]="userErrorTpl">
        <input nz-input formControlName="userName" placeholder="async validate try to write JasonWood" />
        <ng-template #userErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            Please input your username!
          </ng-container>
          <ng-container *ngIf="control.hasError('duplicated')">
            The username is redundant!
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>E-mail</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="emailErrorTpl">
        <input nz-input formControlName="email" placeholder="email" type="email" />
        <ng-template #emailErrorTpl let-control>
          <ng-container *ngIf="control.hasError('email')">
            The input is not valid E-mail!
          </ng-container>
          <ng-container *ngIf="control.hasError('required')">
            Please input your E-mail!
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Password</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback nzErrorTip="Please input your password!">
        <input nz-input type="password" formControlName="password" (ngModelChange)="validateConfirmPassword()" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Confirm Password</nz-form-label>
      <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">
        <input nz-input type="password" formControlName="confirm" placeholder="confirm your password" />
        <ng-template #passwordErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            Please confirm your password!
          </ng-container>
          <ng-container *ngIf="control.hasError('confirm')">
            Password is inconsistent!
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="7" nzRequired>Comment</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="Please write something here!">
        <textarea formControlName="comment" nz-input rows="2" placeholder="write any thing"></textarea>
      </nz-form-control>
    </nz-form-item>
    <!-- <nz-form-item style="float: right;">
      <nz-form-control [nzOffset]="7" [nzSpan]="12">
        <button nz-button nzType="primary" [disabled]="!addUservalidateForm.valid">Submit</button>
        <button style="margin-left: 20px;" nz-button (click)="resetFormaddUser($event)">Reset</button>
      </nz-form-control>
    </nz-form-item> -->
  </form>
  <div *nzModalFooter>
    <button nz-button nzType="default" (click)="handleCancel()">Custom Callback</button>
    <button nz-button nzType="primary" type="submit" form="useraddform" >Submit</button>
  </div>
  </nz-modal>
</div>